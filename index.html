<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æŠŠæˆ‘çš„ç¥ç¦é€ç»™ä½ -æˆ‘çš„æœ‹å‹</title>
    <meta name="description" content="æ¥æ”¶æ¸©é¦¨ç¥ç¦ï¼Œæ„Ÿå—æœ‹å‹å…³æ€€">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Microsoft YaHei', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
            padding: 20px;
            color: white;
            text-align: center;
            -webkit-overflow-scrolling: touch;
        }
        
        .container {
            max-width: 100%;
            padding-bottom: 20px;
        }
        
        .header {
            margin-bottom: 30px;
            padding-top: 10px;
        }
        
        .title {
            font-size: 1.8rem;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .btn {
            background: linear-gradient(135deg, #FF6B6B, #FF8E53);
            color: white;
            border: none;
            padding: 16px 30px;
            margin: 10px 5px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 300px;
            -webkit-appearance: none;
        }
        
        .btn:active {
            transform: scale(0.98);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #4ECDC4, #44A08D);
        }
        
        .warm-tip {
            position: fixed;
            min-width: 150px;
            max-width: 180px;
            padding: 15px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            font-size: 0.95rem;
            font-weight: bold;
            color: #333;
            z-index: 1000;
            border: 3px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            animation: floatIn 0.6s ease-out;
            -webkit-user-select: none;
            user-select: none;
            line-height: 1.3;
        }
        
        @keyframes floatIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.8) rotate(-3deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-6px) rotate(1deg);
            }
        }
        
        .progress {
            margin: 20px 0;
            font-size: 0.95rem;
            background: rgba(255,255,255,0.15);
            padding: 15px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            line-height: 1.4;
        }
        
        .wechat-tips {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        @media (max-width: 480px) {
            .title {
                font-size: 1.6rem;
            }
            
            .btn {
                font-size: 1rem;
                padding: 14px 25px;
            }
            
            .warm-tip {
                min-width: 140px;
                max-width: 160px;
                font-size: 0.9rem;
                padding: 14px;
            }
        }

        @media (max-width: 320px) {
            .warm-tip {
                min-width: 130px;
                max-width: 150px;
                font-size: 0.85rem;
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">ğŸ’– æ¸©é¦¨ç¥ç¦ ğŸ’–</h1>
            <p class="subtitle">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œæ¥æ”¶æ¸©é¦¨ç¥ç¦</p>
        </div>
        
        <div class="wechat-tips">
            <strong>ğŸ¯ å‘é€ä¸­ï¼š</strong><br>
            â€¢ ç»ˆäºå¼„å‡ºæ¥äº†å˜»å˜»â˜ºï¸<br>
            â€¢ æ„ŸåŠ¨å—ï¼Ÿè™½ç„¶ä¸å¤ªé«˜çº§<br>
            â€¢ ç‚¹å‡»ä»»æ„ç¥ç¦å¯ä»¥æå‰å…³é—­
        </div>
        
        <button class="btn" onclick="startDisplay()">å¼€å§‹æ¥æ”¶ç¥ç¦ âœ¨</button>
        <button class="btn btn-secondary" onclick="clearAllWindows()">æ¸…ç©ºæ‰€æœ‰ç¥ç¦</button>
        
        <div class="progress" id="progress">å‡†å¤‡å¥½æ¥æ”¶æ¸©é¦¨ç¥ç¦äº†å—ï¼Ÿ</div>
    </div>

    <script>
        // æ¸©é¦¨æé†’å†…å®¹
        const tips = [
            'å¤šå–æ°´å“¦~ğŸ’§', 'ä¿æŒå¾®ç¬‘å‘€ğŸ˜Š', 'æ¯å¤©éƒ½è¦å…ƒæ°”æ»¡æ»¡^_^',
            'è®°å¾—åƒæ°´æœğŸ', 'è‚–é¢–èŠ³è¦å¼€å¿ƒğŸŒ¸', 'æ¨æ¸…è¹å­¦å§å¤©å¤©å¼€å¿ƒğŸ€',
            'å¥½å¥½çˆ±è‡ªå·±ğŸ’–', 'æƒ³ä½ ä»¬äº†>_<', 'æ¢¦æƒ³æˆçœŸâœ¨',
            'é¡ºé¡ºåˆ©åˆ©ğŸŒˆ', 'æ—©ç‚¹ä¼‘æ¯ğŸŒ™', 'æ„¿æ‰€æœ‰çƒ¦æ¼éƒ½æ¶ˆå¤±ğŸˆ',
            'åˆ«ç†¬å¤œğŸ’¤', 'ä»Šå¤©è¿‡å¾—å¼€å¿ƒå—ğŸ˜„', 'å¤©å†·äº†ï¼Œå¤šç©¿è¡£æœğŸ§¥',
            'ä¿æŒå¥½å¿ƒæƒ…ğŸŒ', 'è®°å¾—å¾®ç¬‘ğŸ˜„', 'ä½ æ˜¯æœ€æ£’çš„â­',
            'åŠ æ²¹å“¦ğŸ’ª', 'ä¸€åˆ‡éƒ½ä¼šå¥½çš„ğŸŒ»', 'ä¿æŒç§¯æå¿ƒæ€ğŸŒˆ',
            'æ”¾æ¾ä¸€ä¸‹ğŸµ', 'æ·±å‘¼å¸ğŸŒ¬ï¸', 'æ…¢æ…¢æ¥ğŸ¢',
            'ä»Šå¤©ä¹Ÿå¾ˆç¾å¥½ğŸŒ', 'æ„Ÿæ©å½“ä¸‹ğŸ™', 'çæƒœæ¯ä¸€å¤©ğŸ“…',
            'ä¿æŒä¹è§‚ğŸ˜', 'å‘å‰çœ‹ğŸ‘€', 'æœªæ¥å¯æœŸğŸš€'
        ];

        const bgColors = [
            'linear-gradient(135deg, #FFB6C1, #FF69B4)',
            'linear-gradient(135deg, #87CEEB, #1E90FF)',
            'linear-gradient(135deg, #98FB98, #32CD32)',
            'linear-gradient(135deg, #DDA0DD, #BA55D3)',
            'linear-gradient(135deg, #FFFACD, #FFD700)',
            'linear-gradient(135deg, #FFA07A, #FF6347)',
            'linear-gradient(135deg, #E0FFFF, #40E0D0)',
            'linear-gradient(135deg, #F0E68C, #DAA520)'
        ];

        let windowsCreated = 0;
        const totalWindows = 80;
        let isCreating = false;
        
        // æ”¹è¿›çš„æ™ºèƒ½åˆ†å¸ƒç³»ç»Ÿ
        const distributionSystem = {
            positions: [],
            minDistance: 120, // å¼¹çª—ä¹‹é—´çš„æœ€å°è·ç¦»
            
            initialize() {
                this.positions = [];
            },
            
            getOptimalPosition(tipWidth, tipHeight) {
                const screenWidth = window.innerWidth;
                const screenHeight = window.innerHeight;
                const margin = 20;
                
                let bestPosition = null;
                let bestScore = -1;
                let attempts = 0;
                
                // å°è¯•å¤šä¸ªéšæœºä½ç½®ï¼Œé€‰æ‹©æœ€ä¼˜çš„
                while (attempts < 30) {
                    const x = margin + Math.random() * (screenWidth - tipWidth - margin * 2);
                    const y = margin + Math.random() * (screenHeight - tipHeight - margin * 2);
                    
                    const score = this.calculatePositionScore(x, y, tipWidth, tipHeight);
                    
                    if (score > bestScore) {
                        bestScore = score;
                        bestPosition = { x, y };
                    }
                    
                    attempts++;
                }
                
                if (bestPosition) {
                    this.positions.push({
                        x: bestPosition.x + tipWidth / 2,
                        y: bestPosition.y + tipHeight / 2
                    });
                }
                
                return bestPosition || this.getFallbackPosition(tipWidth, tipHeight);
            },
            
            calculatePositionScore(x, y, width, height) {
                const centerX = x + width / 2;
                const centerY = y + height / 2;
                let score = 0;
                
                // è®¡ç®—ä¸ç°æœ‰å¼¹çª—çš„è·ç¦»
                if (this.positions.length > 0) {
                    let minDistance = Infinity;
                    for (const pos of this.positions) {
                        const distance = Math.sqrt(
                            Math.pow(centerX - pos.x, 2) + Math.pow(centerY - pos.y, 2)
                        );
                        minDistance = Math.min(minDistance, distance);
                    }
                    
                    // è·ç¦»è¶Šè¿œï¼Œåˆ†æ•°è¶Šé«˜ï¼ˆé¿å…é‡å ï¼‰
                    if (minDistance < this.minDistance) {
                        score -= (this.minDistance - minDistance) * 10;
                    } else {
                        score += minDistance;
                    }
                }
                
                // é¼“åŠ±åˆ†å¸ƒåœ¨å±å¹•è¾¹ç¼˜åŒºåŸŸï¼ˆé¿å…éƒ½é›†ä¸­åœ¨ä¸­é—´ï¼‰
                const screenCenterX = window.innerWidth / 2;
                const screenCenterY = window.innerHeight / 2;
                const distanceToCenter = Math.sqrt(
                    Math.pow(centerX - screenCenterX, 2) + Math.pow(centerY - screenCenterY, 2)
                );
                score += distanceToCenter * 0.5;
                
                // é¼“åŠ±åˆ†å¸ƒåœ¨å±å¹•å››ä¸ªè§’è½
                const cornerBonus = this.getCornerBonus(centerX, centerY);
                score += cornerBonus;
                
                return score;
            },
            
            getCornerBonus(x, y) {
                const screenWidth = window.innerWidth;
                const screenHeight = window.innerHeight;
                const cornerRadius = 150;
                
                // è®¡ç®—åˆ°å››ä¸ªè§’è½çš„è·ç¦»
                const distances = [
                    Math.sqrt(x * x + y * y), // å·¦ä¸Š
                    Math.sqrt((screenWidth - x) * x + y * y), // å³ä¸Š
                    Math.sqrt(x * x + (screenHeight - y) * y), // å·¦ä¸‹
                    Math.sqrt((screenWidth - x) * (screenWidth - x) + (screenHeight - y) * (screenHeight - y)) // å³ä¸‹
                ];
                
                // æ‰¾åˆ°æœ€è¿‘è§’è½çš„è·ç¦»
                const minCornerDistance = Math.min(...distances);
                
                // åœ¨è§’è½é™„è¿‘ç»™äºˆåŠ åˆ†
                return minCornerDistance < cornerRadius ? (cornerRadius - minCornerDistance) * 0.3 : 0;
            },
            
            getFallbackPosition(tipWidth, tipHeight) {
                // å¤‡ç”¨æ–¹æ¡ˆï¼šä½¿ç”¨ç½‘æ ¼åˆ†å¸ƒ
                const screenWidth = window.innerWidth;
                const screenHeight = window.innerHeight;
                const cols = 4;
                const rows = 6;
                
                const col = windowsCreated % cols;
                const row = Math.floor(windowsCreated / cols) % rows;
                
                const cellWidth = screenWidth / cols;
                const cellHeight = screenHeight / rows;
                
                const x = col * cellWidth + Math.random() * (cellWidth - tipWidth - 20);
                const y = row * cellHeight + Math.random() * (cellHeight - tipHeight - 20);
                
                return {
                    x: Math.max(10, Math.min(x, screenWidth - tipWidth - 10)),
                    y: Math.max(10, Math.min(y, screenHeight - tipHeight - 10))
                };
            }
        };

        function startDisplay() {
            if (isCreating) return;
            isCreating = true;
            windowsCreated = 0;
            distributionSystem.initialize();
            updateProgress();
            createWindowsSequentially();
        }

        function createWindowsSequentially() {
            if (windowsCreated >= totalWindows) {
                isCreating = false;
                document.getElementById('progress').innerHTML = 
                    'ğŸ‰ å®Œæˆï¼å…±å‘é€ ' + totalWindows + ' ä¸ªæ¸©é¦¨ç¥ç¦ï¼';
                return;
            }

            createSingleWindow();
            windowsCreated++;
            updateProgress();

            const delay = 80 + Math.random() * 120;
            setTimeout(createWindowsSequentially, delay);
        }

        function createSingleWindow() {
            const tip = document.createElement('div');
            tip.className = 'warm-tip';
            
            const tipText = tips[Math.floor(Math.random() * tips.length)];
            const bgColor = bgColors[Math.floor(Math.random() * bgColors.length)];
            
            tip.textContent = tipText;
            tip.style.background = bgColor;
            tip.style.animation = 'float 3s ease-in-out infinite';
            tip.style.animationDelay = Math.random() * 2 + 's';
            
            // ä½¿ç”¨æ™ºèƒ½åˆ†å¸ƒç³»ç»Ÿè®¡ç®—ä½ç½®
            const tipWidth = 160;
            const tipHeight = 70;
            
            const position = distributionSystem.getOptimalPosition(tipWidth, tipHeight);
            
            tip.style.left = position.x + 'px';
            tip.style.top = position.y + 'px';
            
            // æ·»åŠ éšæœºæ—‹è½¬å’Œæµ®åŠ¨æ•ˆæœ
            const rotation = (Math.random() - 0.5) * 8;
            tip.style.transform = `rotate(${rotation}deg)`;
            
            // è§¦æ‘¸äº‹ä»¶
            tip.ontouchstart = function() {
                this.style.opacity = '0.8';
            };
            
            tip.onclick = function() {
                this.style.opacity = '0';
                this.style.transform = 'scale(0.5) rotate(360deg)';
                setTimeout(() => {
                    if (this.parentNode) {
                        this.parentNode.removeChild(this);
                    }
                }, 300);
            };
            
            const autoCloseTime = 6000 + Math.random() * 6000;
            setTimeout(() => {
                if (tip.parentNode) {
                    tip.style.opacity = '0';
                    tip.style.transform = 'scale(0.5)';
                    setTimeout(() => {
                        if (tip.parentNode) {
                            tip.parentNode.removeChild(tip);
                        }
                    }, 500);
                }
            }, autoCloseTime);
            
            document.body.appendChild(tip);
        }

        function clearAllWindows() {
            const tips = document.querySelectorAll('.warm-tip');
            tips.forEach(tip => {
                tip.style.opacity = '0';
                tip.style.transform = 'scale(0.5)';
                setTimeout(() => {
                    if (tip.parentNode) {
                        tip.parentNode.removeChild(tip);
                    }
                }, 300);
            });
            windowsCreated = 0;
            isCreating = false;
            distributionSystem.initialize();
            updateProgress();
        }

        function updateProgress() {
            const progress = document.getElementById('progress');
            if (windowsCreated === 0) {
                progress.innerHTML = 'å‡†å¤‡å¥½æ¥æ”¶æ¸©é¦¨ç¥ç¦äº†å—ï¼Ÿ';
            } else if (windowsCreated < totalWindows) {
                const percent = Math.floor((windowsCreated / totalWindows) * 100);
                progress.innerHTML = `å‘é€ä¸­... ${windowsCreated}/${totalWindows} (${percent}%)<br>
                                     <small>ğŸ¯ biubiubiu~</small>`;
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆ
        window.onload = function() {
            // é˜»æ­¢åŒå‡»ç¼©æ”¾
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        };
    </script>
</body>
</html>


